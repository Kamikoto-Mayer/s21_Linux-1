# Операционные системы UNIX/Linux (Базовый).

## Part 1. Установка ОС

![Иллюстрация к проекту](./img/Part%201/Установка%20Ubuntu(1).png)<br>
1. Установка Linux

![Иллюстрация к проекту](./img/Part%201/Part%201%20(2).png)<br>
2. Версия Linux

## Part 2. Создание пользователя

![Иллюстрация к проекту](./img/Part%202/Part%202.%20(1)создание%20группу%20adm%20(1).png)<br>
1. Создание группы Adm.

![Иллюстрация к проекту](./img/Part%202/Part%202%20(2).png)<br>
2. Показал что группа адм создалась

![Иллюстрация к проекту](./img/Part%202/Part%202.%20(3)%20создание%20пользователя.png)<br>
3. Создал пользователя user21 в группе adm(Я его до этого создал, там видно по команде что user уже создан)

![Иллюстрация к проекту](./img/Part%202/Part%202.%20(4).png)<br>
3. Использовал команду `cat /etc/passwd` в конце есть два созданные юзера user1 был тестовым!

## Part 3. Настройка сети ОС

![Иллюстрация к проекту](./img/Part%203/Part3.%201.%20изменение%20названия%20машины.png) \
1. Изменение названия виртуальной машины

![Иллюстрация к проекту](./img/Part%203/Part%203.%202.%20изменение%20часового%20пояса.png) \
2. Изменение часового пояса

![Иллюстрация к проекту](./img/Part%203/lo.png) \
3. Использовал ifconfig что бы показать сетевые интерфейсы<br>Интерфейс lo — это локальная петля, которая имеет IP-адрес 127.0.0.1 и предназначена для сетевого доступа к своему же компьютеру. Далее этот интерфейс рассматриваться не будет, так как для эффективной работы не требует дополнительной настройки.

![Иллюстрация к проекту](./img/Part%203/dhcp.png) \
4. Использовал ifconfig что бы показать сетевые интерфейсы<br>Dynamic Host Configuration Protocol (DHCP) он предостовляет автоматически подключенным хостам ip-адреса в заданном диапазоне

![Иллюстрация к проекту](./img/Part%203/out-ip.png) \
5. Узанл внешний сетевой адрес

![Иллюстрация к проекту](./img/Part%203/localhost.png) \
6. Узнал внутренний ip-адрес пропинговав его

![Иллюстрация к проекту](./img/Part%203/Создание%20конфига%20сети.png) \
7. Использовал netplan для создания конфига сети, до этого адрес был 192.168.64.10, что бы не пропадал интернет я повысыл ip адрес на единицу

![Иллюстрация к проекту](./img/Part%203/установка%20конфига.png) \
8. Пременил изменения из netplan

![Иллюстрация к проекту](./img/Part%203/Снимок%20экрана%202024-06-04%20в%2006.52.55.png) \
9. Пропинговал адрес 1.1.1.1 и получил 0 потерь пакетов

![Иллюстрация к проекту](./img/Part%203/Снимок%20экрана%202024-06-04%20в%2006.53.14.png) \
10. Пропинговал сайт ya.ru и получил 0 потерь пакетов

## Part 4. Обновление ОС

![Иллюстрация к проекту](./img/Part%204/Снимок%20экрана%202024-06-04%20в%2007.04.18.png) \
1. Использовал команду `sudo apt full-upgrate` что бы обновить все пакеты и их зависимости

![Иллюстрация к проекту](./img/Part%204/Снимок%20экрана%202024-06-04%20в%2007.07.05.png) \
2. После обновления системы при повторном использовании команды система говорит что обновления установленны

## Part 5. Использование команды **sudo**

Команда sudo (SuperUser DO) в Unix-подобных операционных системах, таких как Linux, позволяет пользователю выполнять команды с привилегиями суперпользователя (root). Это важно для выполнения задач, которые требуют более высокого уровня разрешений, чем те, которые доступны обычным пользователям.

![Иллюстрация к проекту](./img/Part%205/1.png)<br>
1. Изменил конфиг sudoerc что бы добавить root права для пользователя user21

![Иллюстрация к проекту](./img/Part%205/2.png) \
2. Перешел на другого юзера, комнда su используется для переключения пользователя

![Иллюстрация к проекту](./img/Part%205/3.png) \
3. Поменял hostname на school21

![Иллюстрация к проекту](./img/Part%205/4.png) \
4. Показал что команда сработала

![Иллюстрация к проекту](./img/Part%205/5.png) \
6. После перезагрузки вм hostname изменился

## Part 6. Установка и настройка службы времени

![Иллюстрация к проекту](./img/Part%206/1.png)<br>
1. Показал нынешнюю дату и время

![Иллюстрация к проекту](./img/Part%206/2.png) \
2. Показал статус синхронизации времени с помощью команды `sudo systemctl status systemd-timesyncd` на скрине видно что синхронизация работает

![Иллюстрация к проекту](./img/Part%206/3.png) \
3. Использовал команду `timedatectl show` как в задании строка `NTPSynchronized=yes` есть в выводе

## Part 7. Установка и использование текстовых редакторов

![Иллюстрация к проекту](./img/Part%207/1.png)<br>
Создал текстовые файлы

### JOE
![Иллюстрация к проекту](./img/Part%207/joe%20save.png)
Использовал редактор joe и написал там свой никнейм<br>Что бы закрыть редактор нужно нажать `Ctrl + K` после чего нужно нажать X для сохранения изменений

![Иллюстрация к проекту](./img/Part%207/joe%20save.png)
Ничего не изменилось, что бы выийти без сохранения нужно зажать `Ctrl + С` после чего нужно нажать X для сохранения без изменений

![Иллюстрация к проекту](./img/Part%207/joe%20serch.png)
У меня не получилось наглядно показать поиск в редакторе поэтому скажу как сделать поиск, сначала нужно нажать сочетание клавишь `Ctrl + K` после чего нажал `Ctrl + F` и уже после этого снизу выходит поле ввода искомого поля, после ввода курсор переходит на начало искомого слова

### VIM
![Иллюстрация к проекту](./img/Part%207/vim%20save.png)
Использовал редактор vim и написал там свой никнейм<br>Что бы закрыть редактор нужно нажать `ESC` после чего нужно написать `:wq` что означает сохранить и выйти

![Иллюстрация к проекту](./img/Part%207/vim%20save.png)
Ничего не изменилось, что бы выийти без сохранения нужно нажать `ESC` после чего нужно написать `:q!` для сохранения без изменений

![Иллюстрация к проекту](./img/Part%207/vim%20serch.png)
У меня не получилось наглядно показать поиск в редакторе поэтому скажу как сделать поиск, сначала нужно нажать `ESC` после чего написать `/` и уже после этого можно вводить искомое слово, после ввода курсор переходит на начало искомого слова

### NANO
![Иллюстрация к проекту](./img/Part%207/nano%20save.png)
Использовал редактор nano и написал там свой никнейм<br>Что бы закрыть редактор нужно зажать `Ctrl + O` после чего нужно нажать `Enter` и после этого нужно зажать `Ctrl + X`

![Иллюстрация к проекту](./img/Part%207/nano%20save.png)
Ничего не изменилось, что бы выийти без сохранения нужно нажать `Ctrl + X` после чего нужно нажать `N - не сохранять изменения в буфер` для сохранения без изменений

![Иллюстрация к проекту](./img/Part%207/nano%20serch.png)
У меня не получилось наглядно показать поиск в редакторе поэтому скажу как сделать поиск, сначала нужно нажать `Ctrl + W` после чего появляется поле для ввода слова, после ввода курсор переходит на начало искомого слова


## Part 8. Установка и базовая настройка сервиса **SSHD**

1. ![Иллюстрация к проекту](./img/Part%208/downloan%20ssh-server.png)
Установил openssh-server(Он был у меня уже установлен т.к я делал полное обноление пакетов и их зависимостей)

2. Автозапуск службы SSHd при загрузке системы:
   - SSHd должен автоматически запускаться при загрузке системы. Поэтому нет необходимости выполнять дополнительные действия.

3. ![Иллюстрация к проекту](./img/Part%208/setings%20ssh.png)
Я зашел в директорию с конфигом ssh и перенастроил его на порт `2022`

4. ![Иллюстрация к проекту](./img/Part%208/ps%20tools.png)
Посмотрел запущенные процессы(я использовал перенаправление ввода `|` для того что бы отъсеять все ненужные процессы)

Объяснение значения команды и каждого ключа: \
	- ps: Это команда в Unix-подобных операционных системах, которая используется для отображения информации о текущих процессах. \
	- -ef: Этот ключ указывает на полный формат вывода ps, который включает информацию о всех процессах в системе. \
	- -e: Показывает информацию о всех процессах, а не только о процессах, ассоциированных с текущим терминалом. \
	- -f: Показывает полную информацию о процессах, включая идентификатор процесса (PID), родительский процесс (PPID), пользовательский и системный CPU, использование памяти и другие детали. \

5. Перезагрузил вм с помощью команды `sudo reboot`

6. ![Иллюстрация к проекту](./img/Part%208/netstat.png)
Использовал команду `netstat -tan` что-бы вывести все активные tcp-соеденения и слушащие tcp-порты

Объяснение значения команды и каждого ключа: \
	- `Photo`: Этот стобец показывает протокол, используемый для соеденения \
	- `Recv-Q`: Этот слобец показывает количество байтов ожидающих отправки, обычно он равен 0, что означает что соеденение не активно и не передает данные \
	- `Recv-Q`: Этот слобец показывает количество байтов ожидающих получения, обычно он равен 0, что означает что соеденение не активно и не передает данные \
	- `Local Address`: Этот столбец показывает локальный IP-адрес и порт, на котором слушается соединение. В случае 0.0.0.0, это означает, что слушающий сокет привязан ко всем доступным IP-адресам на системе. \
	- `Foreign Address`: Этот столбец показывает удаленный IP-адрес и порт, с которым установлено активное TCP-соединение. Если соединение является слушающим портом, значение в этом столбце будет 0.0.0.0:*. \
	- `State`: Этот столбец показывает текущее состояние соединения. Например, "LISTEN" означает, что порт слушает входящие соединения, "ESTABLISHED" означает, что соединение установлено и активно, "CLOSE_WAIT" означает, что соединение закрыто, но ожидает завершения процесса. \

## Part 9. Установка и использование утилит **top**, **htop**

![Иллюстрация к проекту](./img/Part%209/1.png)
### Отчет по выводу команды top
- `uptime`: у меня он равен 36 минутам, тоесть это время работы системы
- `количество авторизованных пользователей`: в моем случае это 1 user
- `общая загрузка системы`: В строке "Load average" вы увидите значения загрузки системы за последние 1, 5 и 15 минут. В моем случае это 0 и 0.2 т.к все процессы динамичны у меня не получитья написать единую загрузку системы так что я буду писать все со скрина
- `общее количество процессов`: В строке "Tasks" можно также найти общее количество процессов. В моем случае это 123
- `Загрузка CPU`: В разделе CPU вы увидите информацию о загрузке каждого ядра CPU.
- `Загрузка памяти`: В разделе `Mem` можно увидить информацию о использовании памяти системой.
- `PID процесса, занимающего больше всего памяти`: В разделе "Mem" можно увидеть процесс с наибольшим использованием памяти. В моем случае у меня занимает 0.5% системные журналы
- `PID процесса, занимающего больше всего процессорного времени`: В разделе "CPU" можно найти процесс с наибольшим использованием процессорного времени.

![Иллюстрация к проекту](./img/Part%209/2.png)
### Отчет по выводу команды htop
- `Отсортированный по PID, PERCENTCPU, PERCENTMEM, TIME`: В htop можно отсортировать процессы по разным столбцам, нажимая на соответствующую клавишу сортировки. Например, для сортировки по PID, нужно нажать F6 и выберите "PID". Аналогично, для сортировки по другим столбцам, нужно выбрать соответствующий пункт меню.
- `Отфильтрованный для процесса sshd`: В htop можно фильтровать процессы, нажимая F4 и вводя ключевое слово для фильтрации. Я ввел "sshd" в поле фильтра, чтобы отфильтровать процессы, связанные с sshd.
- `С процессом syslog, найденным с помощью поиска`: В htop можно использовать поиск, нажав F3 и вводя ключевое слово для поиска. Введя "syslog" в поле поиска, найдуться процессы, связанные с syslog.
- `С добавленным выводом hostname, clock и uptime`: htop не предоставляет прямого вывода hostname, clock и uptime. Однако, можно открыть еще один терминал и выполнить команды hostname, date и uptime, чтобы получить соответствующую информацию.

## Part 10. Использование утилиты **fdisk**

![Иллюстрация к проекту](./img/Part%2010/fdisk.png)
Использовал команду fdisk -l
### Отчет команды `fdisk`
- Название жесткого диска: /dev/loop0
Размер жесткого диска: 61.3 MiB
Количество секторов: 124984
- Название жесткого диска: /dev/loop1
Размер жесткого диска: 91.91 MiB
Количество секторов: 188982
- Название жесткого диска: /dev/loop2
Размер жесткого диска: 51.77 MiB
Количество секторов: 122368
- Название жесткого диска: /dev/loop3
Размер жесткого диска: 57.88 MiB
Количество секторов: 118496
- Название жесткого диска: /dev/loop4
Размер жесткого диска: 33.72 MiB
Количество секторов: 69032
- Название жесткого диска: /dev/vda
Размер жесткого диска: 16 GiB
Количество секторов: 33554432
- Название жесткого диска: /dev/mapper/ubuntu--vg-ubuntu--lv
Размер жесткого диска: 10 GiB
Количество секторов: 20971520

Размер swap: 13.5 GiB


## Part 11. Использование утилиты **df** 

![Иллюстрация к проекту](./img/Part%2011/df.png)
Использовал команду `df`

Результаты команды `df`:
`Информация для корневого раздела (/)`

- `Размер раздела`: 10218772 1K-блоков
- `Размер занятого пространства`: 2663076 1K-блоков
- `Размер свободного пространства`: 7015024 1K-блоков
- `Процент использования`: 28%
- `Единица измерения`: 1K-блоки

Результаты команды `df -Th`:
`Для корневого раздела (/):`

- `Размер раздела`: 10G
- `Размер занятого пространства`: 2.5G
- `Размер свободного пространства`: 6.7G
- `Процент использования`: 28%
- `Тип файловой системы`: ext4

## Part 12. Использование утилиты **du**

### /home

![Размер папки /home](./img/Part%2012/home.png)

### /var

![Размер папки /var](./img/Part%2012/var.png)

### /var/log

![Размер папки /var/log](./img/Part%2012/var:log.png)

## Размер содержимого /var/log

![Размер папки /var/log/*](./img/Part%2012/var:log:*.png)

## Part 13. Установка и использование утилиты **ncdu**

![Размер папки /home](./img/Part%2013/home.png)
Вывод команды `sudo ncdu /home`

![Размер папки /var](./img/Part%2013/var.png)
Вывод команды `sudo ncdu /var`

![Размер папки /var/log](./img/Part%2013/var:log.png)
Вывод команды `sudo ncdu /var/log`

## Part 14. Работа с системными журналами

### Время последней успешной авторизации

- **Время:** Jun 3 14:32:17
- **Имя пользователя:** user21
- **Метод входа в систему:** password

## Перезапуск службы SSHd
![Restat sshd](./img/Part%2014/Снимок%20экрана%202024-06-04%20в%2015.31.43.png)
### Команда
```bash
sudo systemctl restart sshd
```

## Part 15. Использование планировщика заданий **CRON**

## Настройка задания

Добавил задание для выполнения команды `uptime` каждые 2 минуты.
![img](./img/Part%2015/2.png)
Список текущих задач!

### Команда

```bash
*/2 * * * * /usr/bin/uptime
```

![img](./img/Part%2015/1.png)
Показал логи!

![img](./img/Part%2015/3.png)
Список заданий после удаления